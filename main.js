(()=>{"use strict";var e,t,n,o=["inputSelector","submitButtonSelector","inactiveButtonClass"];function r(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}for(var u=function(e,t,n){var o=n.inputErrorClass,r=n.errorClass,u=e.querySelector(".".concat(t.id,"_error"));t.validity.valid?function(e,t,n,o,r){t.classList.remove(o),n.classList.remove(r),n.textContent=""}(0,t,u,o,r):function(e,t,n,o,r,u){t.classList.add(o),n.classList.add(r),n.textContent=u}(0,t,u,o,r,t.validationMessage)},c=function(e,t,n){l(e)?p(t,n):i(t,n)},l=function(e){return e.some((function(e){return!e.validity.valid}))},i=function(e,t){e.classList.remove(t),e.disabled=!1},p=function(e,t){e.classList.add(t),e.disabled=!0},s=document.querySelector("#element-template").content.querySelector(".element"),a=document.querySelector(".elements"),d=document.querySelector(".popup_picture"),m=d.querySelector(".popup__image"),_=d.querySelector(".popup__caption"),f=(document.querySelector(".popup"),document.querySelectorAll(".popup")),v=document.querySelector(".profile-popup"),y=document.querySelector(".popup_add-card"),S=y.querySelector(".form_place"),b=document.querySelector(".profile__edit-button"),q=(document.querySelector(".popup__close-button"),document.querySelector(".profile__add-button")),k=(document.querySelector(".popup_place__close-button"),document.querySelector(".body")),L=document.querySelector(".popup__form"),g=L.querySelector(".popup__input_name"),E=L.querySelector(".popup__input_profession"),h=document.querySelector(".profile__title"),x=document.querySelector(".profile__subtitle"),C=y.querySelector(".popup__input_card_title"),j=y.querySelector(".popup__input_card_link"),O=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],B=function(e){e.target.closest(".element").remove()},w=function(e){a.prepend(function(e){var t=s.cloneNode(!0);t.querySelector(".element__title").textContent=e.name,t.querySelector(".element__delete-card").addEventListener("click",B),t.querySelector(".element__like-button").addEventListener("click",(function(e){e.target.classList.toggle("element__like-button_active")}));var n=t.querySelector(".element__image");return n.src=e.link,n.alt="Изображение ".concat(e.name),n.addEventListener("click",(function(){m.src=e.link,m.alt="Изображение ".concat(e.name),_.textContent=e.name,D(d)})),t}(e))},A=O.length-1;A>=0;A--)w(O[A]);function D(e){e.classList.add("popup_opened"),k.addEventListener("keydown",z)}function P(e){e.classList.remove("popup_opened"),k.removeEventListener("keydown",z)}function z(e){"Escape"===e.key&&P(document.querySelector(".popup_opened"))}L.addEventListener("submit",(function(e){e.preventDefault(),renderLoad(!0,v),addUser(g.value,E.value),h.textContent=g.value,x.textContent=E.value,P(v)})),f.forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&P(e),t.target.classList.contains("popup__close-button")&&P(e)}))})),q.addEventListener("click",(function(){D(y)})),S.addEventListener("submit",(function(e){e.preventDefault();var t=C.value,n=j.value;w({name:t,link:n}),P(y),e.target.reset()})),b.addEventListener("click",(function(){D(v),g.value=h.textContent,E.value=x.textContent})),t=(e={formSelector:".popup__form",inputSelector:".popup__form_input",submitButtonSelector:".popup__form_submit-button",inactiveButtonClass:"popup__form_submit-button_disabled",inputErrorClass:"popup__form_input_error",errorClass:"popup__form_error"}).formSelector,n=r(e,["formSelector"]),Array.from(document.querySelectorAll(t)).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e,t){var n=t.inputSelector,l=t.submitButtonSelector,i=t.inactiveButtonClass,s=r(t,o),a=Array.from(e.querySelectorAll(n)),d=e.querySelector(l);e.addEventListener("reset",(function(){setTimeout((function(){p(d,i)}),0)})),a.forEach((function(t){t.addEventListener("input",(function(){u(e,t,s),c(a,d,i)}))}))}(e,n)}))})();